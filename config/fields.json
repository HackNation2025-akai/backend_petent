{
  "system_prompt": "You are a concise form-field reviewer for accident forms. You must ALWAYS return JSON with keys 'status' and 'justification'. If you are unsure, have no answer, or the input is empty, return an objection with a short Polish justification (<=200 chars). Never return empty content or any other format.",
  "fields": [
    {
      "name": "pesel_strict",
      "description": "PESEL: dokładnie 11 cyfr.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[0-9]{11}$",
      "allowed_terms": []},
    {
      "name": "name_proper",
      "description": "Imię/Nazwisko: litery (PL), pierwsza litera wielka.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+$",
      "allowed_terms": []
    },
    {
      "name": "city_proper",
      "description": "Miejscowość: litery (PL), pierwsza litera wielka.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:[ -][A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*$",
      "allowed_terms": []
    },
    {
      "name": "doc_number",
      "description": "Seria i numer dokumentu tożsamości.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[A-Za-z0-9]{5,12}$"
    },
    {
      "name": "phone_digits",
      "description": "Telefon: 7-15 cyfr.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[0-9\\s-]{7,20}$",
      "allowed_terms": []
    },
    {
      "name": "street_text",
      "description": "Ulica: min. 3 znaki, litery/cyfry, spacje, myślniki.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[A-Z]{2,49}$",
      "allowed_terms": []
    },
    {
      "name": "house_number",
      "description": "Numer domu: 1-4 cyfry i opcjonalna litera.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[0-9]{1,4}[A-Za-z]?$",
      "allowed_terms": []
    },
    {
      "name": "postal_code_pl",
      "description": "Kod pocztowy: format 00-000.",
      "allowed_status": ["success", "objection"],
      "pattern": "^[0-9]{2}-[0-9]{3}$",
      "allowed_terms": []
    },
    {
      "name": "text_brief",
      "description": "Krótki opis zdarzenia/instytucji.",
      "allowed_status": ["success", "objection"],
      "allowed_terms": [],
      "prompt": "Sprawdź, czy tekst jest sensowny w kontekście pola (krótki opis, nazwa instytucji). Jeśli pusty, zbyt krótki (<3 znaki) lub losowy, objection z krótkim powodem."
    },
    {
      "name": "text_detailed",
      "description": "Szczegółowy opis zdarzenia/urazów.",
      "allowed_status": ["success", "objection"],
      "allowed_terms": [],
      "prompt": "Sprawdź, czy opis jest zrozumiały i zawiera sensowne informacje o zdarzeniu/obrażeniach. Jeśli pusty, niezrozumiały lub zbyt krótki, objection z powodem i krótką sugestią."
    }
  ],
  "field_mapping": {
    "injured_person.pesel": "pesel_strict",
    "reporter.pesel": "pesel_strict",
    "injured_person.first_name": "name_proper",
    "injured_person.last_name": "name_proper",
    "injured_address.city": "city_proper",
    "injured_address.street": "street_text",
    "injured_address.house_number": "house_number",
    "injured_address.postal_code": "postal_code_pl",
    "injured_person.document_number": "doc_number",
    "injured_person.phone": "phone_digits",
    "accident_info.accident_place": "text_brief",
    "accident_info.first_aid_facility": "text_brief",
    "accident_info.investigating_authority": "text_brief",
    "accident_info.machine_description": "text_brief",
    "accident_info.detailed_description": "text_detailed",
    "accident_info.injuries_description": "text_detailed"
  }
}

